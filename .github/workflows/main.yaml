name: main
on:
  push:
  pull_request:
  schedule:
    - cron: "0 0 1 * *"
jobs:
  ubuntu:
    runs-on: ubuntu-latest
    container: ubuntu:focal
    steps:
    - uses: actions/checkout@v3
    - run: |
        apt-get -qq update
        apt-get -qq install curl sed tar openjdk-17-jre-headless
    - run: |
        bash --posix install-script/install.sh || exit_code=1
        echo "# Log"
        echo
        cat ~/activemq-artemis-install.log
        exit $exit_code

@command
def test(app):
    check_program("dash")
    check_program("bash")

    remove(join(get_home_dir(), ".cache", "artemis-install-script"))

    run("dash uninstall.sh")
    run("dash uninstall.sh")
    run("dash install.sh")
    run("dash install.sh")

    remove(join(get_home_dir(), ".cache", "artemis-install-script"))

    run("bash uninstall.sh")
    run("bash uninstall.sh")
    run("bash install.sh")
    run("bash install.sh")

@command
def lint(app):
    check_program("shellcheck")

    run("shellcheck --enable all install.sh")

@command
def debug(app, shell="dash"):
    check_program(shell)
    run(f"{shell} -vx install.sh")
